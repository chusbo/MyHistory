<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<div id="main">
	<h1><span id="name"></span>할 일 목록</h1>
	<input id="todo">
	<button id="add-button">추가하기</button>
	<div id="todo-list">
	
	</div>
</div>
</body>
	<style>
		#main
		{border:1px solid gray; width:400px; height:auto; text-align:center; background-color:lightblue; color:white;}
		textarea
		{display:block; margin-left:100px; margin-bottom:10px; width:200px; height:60px; background-color:lightyellow; border:1px dotted black;}
		#todo
		{margin-bottom:10px; }
		button
		{margin:3px 3px; background-color:lightblue; color:white; border:1px solid black;}
		#name
		{border:1px dotted black; background-color:lightyellow; color:black;}
	</style>
	<script>
		document.addEventListener('DOMContentLoaded',()=>
			{const input=document.querySelector('#todo')
			const todoList=document.querySelector('#todo-list')
			const addButton=document.querySelector('#add-button')
			
			const name=document.querySelector('#name')
			name.textContent='승보의'
			name.style.padding='10px'
			
			let keyCount=0
			
			const addTodo=()=>
				{if(input.value.trim()==='')
					{alert('할 일을 입력해주세요.')
					return}
			const item=document.createElement('div')
			const checkbox=document.createElement('input')
			const text=document.createElement('span')
			const button=document.createElement('button')
			const button2=document.createElement('button')
			const textarea=document.createElement('textarea')
			
			
			
			
			
			const key=keyCount
			keyCount +=1
			
			item.setAttribute('data-key',key)
			item.appendChild(checkbox)
			item.appendChild(text)
			item.appendChild(button)
			item.appendChild(button2)			
			todoList.appendChild(item)
			
			checkbox.type='checkbox'
			checkbox.addEventListener('change',(event)=>
				{item.style.textDecoration=event.target.checked?'line-through':''})
				
			text.textContent=input.value
			
			button2.textContent='메모'
			button2.addEventListener('click',(event)=>
				{if (textarea.parentNode)
					{item.removeChild(textarea)}
			    else
			    	{item.appendChild(textarea)}
				})
				
			button.textContent='제거하기'
			button.addEventListener('click',()=>
				{removeTodo(key)})				
			input.value=''}
				
			const removeTodo=(key)=>
			{const item = document.querySelector(`[data-key="${key}"]`)
				todoList.removeChild(item)}
				
			addButton.addEventListener('click',addTodo)
			input.addEventListener('keyup',(event)=>
				{const ENTER=13
					if(event.keyCode===ENTER)
						{addTodo()}
				})
		})
	</script>
</html>